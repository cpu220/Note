## 浏览器的渲染过程

首先，浏览器使用流式布局，html解释器将html解析成DOM，css解释器将css解析成CSSOM, 然后webkit会将二者结合，生成一个能够表达所有信息的内部模型，再按节点绘制到页面上。


* 解析HTML，生成DOM树
* 解析CSS，生成CSSOM树
* 将DOM树和CSSOM树结合，生成渲染树 Render tree
* layout（回流|重排）：根据生成的渲染树，进行回流（layout），得到节点的几何信息（位置，大小）
* Painting（重绘）：根据渲染树以及回流得到的集合信息，得到节点的绝对像素
* Display：将像素发送给GPU，展示在页面上。
  * GPU将多个合成层合并为同一个层，并展示在页面中。
  * css3硬件加速的原理则是新建合成层。


### 回流和重绘的触发

#### 回流的触发
* 操作DOM元素（删、增加）
* 元素位置、样式发生变化
* 内容发生变化
* 初始化页面
* 浏览器窗口发生变化

#### 触发重绘
* 回流一定触发重绘
* 元素样式更改，但不因你共享其所在文档流信息。color，background-color，visibility
